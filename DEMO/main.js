// Generated by CoffeeScript 2.2.2
var RAD, onload;

RAD = Math.PI / 180;

onload = function() {
  var app, cube, fps, height, resources, ret, width;
  console.clear();
  width = 1920;
  height = 1080;
  fps = 60;
  cube = void 0;
  app = new pixelir_core({
    screen_width: width,
    screen_height: height,
    bg_color: "gray",
    stage_color: "black",
    fps: fps
  });
  resources = [['chara1', 'objects/chara1.png'], ['chara0', 'objects/chara0.png'], ['aircraft', 'objects/E-45-Aircraft/Aircraft_dae.dae'], ['droid', 'objects/droid.dae'], ['negimiku', 'objects/negimiku.dae']];
  ret = app.createLayer();
  // リソースデータをプリロードする
  return app.preload(resources, function(assets) {
    var camera_radius, camera_x, camera_y, camera_z, ground, i, img, j, k, kind, scale, size, sprite, sprites;
    cube = app.newSprite({
      x: 0,
      y: 1000,
      z: 0,
      orgscale: 30,
      object: 'primitive_cube',
      color: '0xff9000',
      xscale: 30,
      yscale: 30,
      zscale: 30,
      xs: (random(8) - 4) * 10,
      zs: (random(8) - 4) * 10,
      gravity: 30
    });
    app.addSprite(cube);
    ground = app.newSprite({
      y: -100,
      orgscale: 300,
      object: 'primitive_plane',
      color: '0x0090ff',
      xrotate: 90
    });
    app.addSprite(ground);
    sprites = [];
    for (i = j = 0; j < 30; i = ++j) {
      kind = random(1);
      img = assets[resources[kind][0]];
      size = (random(5) + 5) / 1;
      sprite = app.newSprite({
        x: random(width),
        y: random(90) + 10,
        xs: random(2) + 2,
        object: img,
        xscale: size,
        yscale: size,
        gravity: (random(9) + 1) / 10,
        width: 32,
        height: 32,
        patternNum: random(2),
        patternList: [[100, [10, 11, 10, 12]], [100, [5, 6, 5, 7]], [100, [0, 1, 0, 2]]]
      });
      if (kind === 0) {
        app.addSprite(sprite, 0);
      } else {
        app.addSprite(sprite);
      }
      sprites.push(sprite);
    }
    for (i = k = 0; k < 100; i = ++k) {
      kind = random(1);
      scale = (random(13) + 3) / 3;
      sprite = app.newSprite({
        x: random(width * 2) - width,
        y: random(50) + 70,
        z: random(width * 8) - width * 4,
        xs: (random(8) - 4) * 2,
        zs: (random(8) - 4) * 2,
        gravity: 30,
        orgscale: ((kind * 120) + 10) * 1,
        xscale: scale,
        yscale: scale,
        zscale: scale,
        xrotate: 0,
        yrotate: 0,
        zrotate: 0,
        object: kind === 0 ? assets['negimiku'] : assets['droid']
      });
      app.addSprite(sprite);
      sprites.push(sprite);
    }
    camera_radius = 0;
    camera_x = 5000;
    camera_y = 5000;
    camera_z = 5000;
    app.CAMERA3D.position.set(camera_x, camera_y, camera_z);
    return app.enterframe(function() {
      var l, len;
      //camera_x = Math.cos(camera_radius * RAD) * 5000
      //camera_y = 3000
      //camera_z = Math.sin(camera_radius * RAD) * 5000
      //camera_radius = ++camera_radius % 360
      app.CAMERA3D.lookAt(cube.x, cube.y, cube.z);
      for (l = 0, len = sprites.length; l < len; l++) {
        sprite = sprites[l];
        if (sprite.object.type === 'image') {
          sprite.rotate--;
          if (sprite.x < 0) {
            sprite.x = width;
          }
          if (sprite.x > width) {
            sprite.x = 0;
          }
          if (sprite.y > height - (sprite.height / 2)) {
            sprite.y = height - (sprite.height / 2);
            sprite.ys *= -1;
          }
        } else {
          sprite.xrotate++;
          sprite.yrotate++;
          sprite.zrotate++;
          if (sprite.x < -width * 3) {
            sprite.x = width * 3;
          }
          if (sprite.x > width * 3) {
            sprite.x = -width * 3;
          }
          if (sprite.z < -width * 6) {
            sprite.z = width * 6;
          }
          if (sprite.z > width * 6) {
            sprite.z = -width * 6;
          }
          if (sprite.y < 0) {
            sprite.y = 0;
            sprite.ys = random(256) + 128;
          }
        }
      }
      if (cube.x < -width * 3) {
        cube.x = -width * 3;
        cube.xs *= -1;
      }
      if (cube.x > width * 3) {
        cube.x = width * 3;
        cube.xs *= -1;
      }
      if (cube.z < -width * 3) {
        cube.z = -width * 3;
        cube.zs *= -1;
      }
      if (cube.z > width * 3) {
        cube.z = width * 3;
        cube.zs *= -1;
      }
      if (cube.y < 0) {
        cube.y = 0;
        return cube.ys = random(512) + 256;
      }
    });
  });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiREVNTy9tYWluLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxHQUFBLEVBQUE7O0FBQUEsR0FBQSxHQUFNLElBQUksQ0FBQyxFQUFMLEdBQVU7O0FBRWhCLE1BQUEsR0FBUyxRQUFBLENBQUEsQ0FBQTtBQUNQLE1BQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUE7RUFBQSxPQUFPLENBQUMsS0FBUixDQUFBO0VBQ0EsS0FBQSxHQUFRO0VBQ1IsTUFBQSxHQUFTO0VBQ1QsR0FBQSxHQUFNO0VBQ04sSUFBQSxHQUFPO0VBRVAsR0FBQSxHQUFNLElBQUksWUFBSixDQUNKO0lBQUEsWUFBQSxFQUFjLEtBQWQ7SUFDQSxhQUFBLEVBQWUsTUFEZjtJQUVBLFFBQUEsRUFBVSxNQUZWO0lBR0EsV0FBQSxFQUFhLE9BSGI7SUFJQSxHQUFBLEVBQUs7RUFKTCxDQURJO0VBT04sU0FBQSxHQUFZLENBQ1YsQ0FBQyxRQUFELEVBQVcsb0JBQVgsQ0FEVSxFQUVWLENBQUMsUUFBRCxFQUFXLG9CQUFYLENBRlUsRUFHVixDQUFDLFVBQUQsRUFBYSx3Q0FBYixDQUhVLEVBSVYsQ0FBQyxPQUFELEVBQVUsbUJBQVYsQ0FKVSxFQUtWLENBQUMsVUFBRCxFQUFhLHNCQUFiLENBTFU7RUFRWixHQUFBLEdBQU0sR0FBRyxDQUFDLFdBQUosQ0FBQSxFQXJCTjs7U0F3QkEsR0FBRyxDQUFDLE9BQUosQ0FBWSxTQUFaLEVBQXVCLFFBQUEsQ0FBQyxNQUFELENBQUE7QUFDckIsUUFBQSxhQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEVBQUE7SUFBQSxJQUFB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QkEsSUFBSSxJQUFJLENBQUMsQ0FBTCxHQUFTLENBQUMsS0FBRCxHQUFPLENBQXBCO1FBQ0UsSUFBSSxDQUFDLENBQUwsR0FBUyxDQUFDLEtBQUQsR0FBTztRQUNoQixJQUFJLENBQUMsRUFBTCxJQUFXLENBQUMsRUFGZDs7TUFHQSxJQUFJLElBQUksQ0FBQyxDQUFMLEdBQVMsS0FBQSxHQUFNLENBQW5CO1FBQ0UsSUFBSSxDQUFDLENBQUwsR0FBUyxLQUFBLEdBQU07UUFDZixJQUFJLENBQUMsRUFBTCxJQUFXLENBQUMsRUFGZDs7TUFHQSxJQUFJLElBQUksQ0FBQyxDQUFMLEdBQVMsQ0FBQyxLQUFELEdBQU8sQ0FBcEI7UUFDRSxJQUFJLENBQUMsQ0FBTCxHQUFTLENBQUMsS0FBRCxHQUFPO1FBQ2hCLElBQUksQ0FBQyxFQUFMLElBQVcsQ0FBQyxFQUZkOztNQUdBLElBQUksSUFBSSxDQUFDLENBQUwsR0FBUyxLQUFBLEdBQU0sQ0FBbkI7UUFDRSxJQUFJLENBQUMsQ0FBTCxHQUFTLEtBQUEsR0FBTTtRQUNmLElBQUksQ0FBQyxFQUFMLElBQVcsQ0FBQyxFQUZkOztNQUdBLElBQUksSUFBSSxDQUFDLENBQUwsR0FBUyxDQUFiO1FBQ0UsSUFBSSxDQUFDLENBQUwsR0FBUztlQUNULElBQUksQ0FBQyxFQUFMLEdBQVcsTUFBQSxDQUFPLEdBQVAsQ0FBQSxHQUFZLElBRnpCOztJQTVDYSxDQUFmO0VBN0VxQixDQUF2QjtBQXpCTyIsInNvdXJjZXNDb250ZW50IjpbIlJBRCA9IE1hdGguUEkgLyAxODBcblxub25sb2FkID0gLT5cbiAgY29uc29sZS5jbGVhcigpXG4gIHdpZHRoID0gMTkyMFxuICBoZWlnaHQgPSAxMDgwXG4gIGZwcyA9IDYwXG4gIGN1YmUgPSB1bmRlZmluZWRcblxuICBhcHAgPSBuZXcgcGl4ZWxpcl9jb3JlXG4gICAgc2NyZWVuX3dpZHRoOiB3aWR0aFxuICAgIHNjcmVlbl9oZWlnaHQ6IGhlaWdodFxuICAgIGJnX2NvbG9yOiBcImdyYXlcIlxuICAgIHN0YWdlX2NvbG9yOiBcImJsYWNrXCJcbiAgICBmcHM6IGZwc1xuXG4gIHJlc291cmNlcyA9IFtcbiAgICBbJ2NoYXJhMScsICdvYmplY3RzL2NoYXJhMS5wbmcnXVxuICAgIFsnY2hhcmEwJywgJ29iamVjdHMvY2hhcmEwLnBuZyddXG4gICAgWydhaXJjcmFmdCcsICdvYmplY3RzL0UtNDUtQWlyY3JhZnQvQWlyY3JhZnRfZGFlLmRhZSddXG4gICAgWydkcm9pZCcsICdvYmplY3RzL2Ryb2lkLmRhZSddXG4gICAgWyduZWdpbWlrdScsICdvYmplY3RzL25lZ2ltaWt1LmRhZSddXG4gIF1cblxuICByZXQgPSBhcHAuY3JlYXRlTGF5ZXIoKVxuXG4gICMg44Oq44K944O844K544OH44O844K/44KS44OX44Oq44Ot44O844OJ44GZ44KLXG4gIGFwcC5wcmVsb2FkIHJlc291cmNlcywgKGFzc2V0cykgLT5cbiAgICBjdWJlID0gYXBwLm5ld1Nwcml0ZVxuICAgICAgeDogMFxuICAgICAgeTogMTAwMFxuICAgICAgejogMFxuICAgICAgb3Jnc2NhbGU6IDMwXG4gICAgICBvYmplY3Q6ICdwcmltaXRpdmVfY3ViZSdcbiAgICAgIGNvbG9yOiAnMHhmZjkwMDAnXG4gICAgICB4c2NhbGU6IDMwXG4gICAgICB5c2NhbGU6IDMwXG4gICAgICB6c2NhbGU6IDMwXG4gICAgICB4czogKHJhbmRvbSg4KSAtIDQpICogMTBcbiAgICAgIHpzOiAocmFuZG9tKDgpIC0gNCkgKiAxMFxuICAgICAgZ3Jhdml0eTogMzBcbiAgICBhcHAuYWRkU3ByaXRlKGN1YmUpXG5cbiAgICBncm91bmQgPSBhcHAubmV3U3ByaXRlXG4gICAgICB5OiAtMTAwXG4gICAgICBvcmdzY2FsZTogMzAwXG4gICAgICBvYmplY3Q6ICdwcmltaXRpdmVfcGxhbmUnXG4gICAgICBjb2xvcjogJzB4MDA5MGZmJ1xuICAgICAgeHJvdGF0ZTogOTBcbiAgICBhcHAuYWRkU3ByaXRlKGdyb3VuZClcblxuICAgIHNwcml0ZXMgPSBbXVxuICAgIGZvciBpIGluIFswLi4uMzBdXG4gICAgICBraW5kID0gcmFuZG9tKDEpXG4gICAgICBpbWcgPSBhc3NldHNbcmVzb3VyY2VzW2tpbmRdWzBdXVxuICAgICAgc2l6ZSA9IChyYW5kb20oNSkgKyA1KSAvIDFcbiAgICAgIHNwcml0ZSA9IGFwcC5uZXdTcHJpdGVcbiAgICAgICAgeDogcmFuZG9tKHdpZHRoKVxuICAgICAgICB5OiByYW5kb20oOTApKzEwXG4gICAgICAgIHhzOiByYW5kb20oMikgKyAyXG4gICAgICAgIG9iamVjdDogaW1nXG4gICAgICAgIHhzY2FsZTogc2l6ZVxuICAgICAgICB5c2NhbGU6IHNpemVcbiAgICAgICAgZ3Jhdml0eTogKHJhbmRvbSg5KSsxKS8xMFxuICAgICAgICB3aWR0aDogMzJcbiAgICAgICAgaGVpZ2h0OiAzMlxuICAgICAgICBwYXR0ZXJuTnVtOiByYW5kb20oMilcbiAgICAgICAgcGF0dGVybkxpc3Q6IFtcbiAgICAgICAgICBbMTAwLCBbMTAsIDExLCAxMCwgMTJdXVxuICAgICAgICAgIFsxMDAsIFs1LCA2LCA1LCA3XV1cbiAgICAgICAgICBbMTAwLCBbMCwgMSwgMCwgMl1dXG4gICAgICAgIF1cbiAgICAgIGlmIChraW5kID09IDApXG4gICAgICAgIGFwcC5hZGRTcHJpdGUoc3ByaXRlLCAwKVxuICAgICAgZWxzZVxuICAgICAgICBhcHAuYWRkU3ByaXRlKHNwcml0ZSlcbiAgICAgIHNwcml0ZXMucHVzaChzcHJpdGUpXG5cbiAgICBmb3IgaSBpbiBbMC4uLjEwMF1cbiAgICAgIGtpbmQgPSByYW5kb20oMSlcbiAgICAgIHNjYWxlID0gKHJhbmRvbSgxMykgKyAzKSAvIDNcbiAgICAgIHNwcml0ZSA9IGFwcC5uZXdTcHJpdGVcbiAgICAgICAgeDogcmFuZG9tKHdpZHRoKjIpIC0gd2lkdGhcbiAgICAgICAgeTogcmFuZG9tKDUwKSs3MFxuICAgICAgICB6OiByYW5kb20od2lkdGgqOCkgLSB3aWR0aCo0XG4gICAgICAgIHhzOiAocmFuZG9tKDgpIC0gNCkgKiAyXG4gICAgICAgIHpzOiAocmFuZG9tKDgpIC0gNCkgKiAyXG4gICAgICAgIGdyYXZpdHk6IDMwXG4gICAgICAgIG9yZ3NjYWxlOiAoKGtpbmQgKiAxMjApICsgMTApICogMVxuICAgICAgICB4c2NhbGU6IHNjYWxlXG4gICAgICAgIHlzY2FsZTogc2NhbGVcbiAgICAgICAgenNjYWxlOiBzY2FsZVxuICAgICAgICB4cm90YXRlOiAwXG4gICAgICAgIHlyb3RhdGU6IDBcbiAgICAgICAgenJvdGF0ZTogMFxuICAgICAgICBvYmplY3Q6IGlmIChraW5kID09IDApIHRoZW4gYXNzZXRzWyduZWdpbWlrdSddIGVsc2UgYXNzZXRzWydkcm9pZCddXG4gICAgICBhcHAuYWRkU3ByaXRlKHNwcml0ZSlcbiAgICAgIHNwcml0ZXMucHVzaChzcHJpdGUpXG5cbiAgICBjYW1lcmFfcmFkaXVzID0gMFxuICAgIGNhbWVyYV94ID0gNTAwMFxuICAgIGNhbWVyYV95ID0gNTAwMFxuICAgIGNhbWVyYV96ID0gNTAwMFxuICAgIGFwcC5DQU1FUkEzRC5wb3NpdGlvbi5zZXQoY2FtZXJhX3gsIGNhbWVyYV95LCBjYW1lcmFfeilcbiAgICBhcHAuZW50ZXJmcmFtZSAtPlxuICAgICAgI2NhbWVyYV94ID0gTWF0aC5jb3MoY2FtZXJhX3JhZGl1cyAqIFJBRCkgKiA1MDAwXG4gICAgICAjY2FtZXJhX3kgPSAzMDAwXG4gICAgICAjY2FtZXJhX3ogPSBNYXRoLnNpbihjYW1lcmFfcmFkaXVzICogUkFEKSAqIDUwMDBcbiAgICAgICNjYW1lcmFfcmFkaXVzID0gKytjYW1lcmFfcmFkaXVzICUgMzYwXG4gICAgICBhcHAuQ0FNRVJBM0QubG9va0F0KGN1YmUueCwgY3ViZS55LCBjdWJlLnopXG4gICAgICBmb3Igc3ByaXRlIGluIHNwcml0ZXNcbiAgICAgICAgaWYgKHNwcml0ZS5vYmplY3QudHlwZSA9PSAnaW1hZ2UnKVxuICAgICAgICAgIHNwcml0ZS5yb3RhdGUtLVxuICAgICAgICAgIGlmIChzcHJpdGUueCA8IDApXG4gICAgICAgICAgICBzcHJpdGUueCA9IHdpZHRoXG4gICAgICAgICAgaWYgKHNwcml0ZS54ID4gd2lkdGgpXG4gICAgICAgICAgICBzcHJpdGUueCA9IDBcbiAgICAgICAgICBpZiAoc3ByaXRlLnkgPiBoZWlnaHQtKHNwcml0ZS5oZWlnaHQvMikpXG4gICAgICAgICAgICBzcHJpdGUueSA9IGhlaWdodC0oc3ByaXRlLmhlaWdodC8yKVxuICAgICAgICAgICAgc3ByaXRlLnlzICo9IC0xXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzcHJpdGUueHJvdGF0ZSsrXG4gICAgICAgICAgc3ByaXRlLnlyb3RhdGUrK1xuICAgICAgICAgIHNwcml0ZS56cm90YXRlKytcbiAgICAgICAgICBpZiAoc3ByaXRlLnggPCAtd2lkdGgqMylcbiAgICAgICAgICAgIHNwcml0ZS54ID0gd2lkdGgqM1xuICAgICAgICAgIGlmIChzcHJpdGUueCA+IHdpZHRoKjMpXG4gICAgICAgICAgICBzcHJpdGUueCA9IC13aWR0aCozXG4gICAgICAgICAgaWYgKHNwcml0ZS56IDwgLXdpZHRoKjYpXG4gICAgICAgICAgICBzcHJpdGUueiA9IHdpZHRoKjZcbiAgICAgICAgICBpZiAoc3ByaXRlLnogPiB3aWR0aCo2KVxuICAgICAgICAgICAgc3ByaXRlLnogPSAtd2lkdGgqNlxuICAgICAgICAgIGlmIChzcHJpdGUueSA8IDApXG4gICAgICAgICAgICBzcHJpdGUueSA9IDBcbiAgICAgICAgICAgIHNwcml0ZS55cyA9IChyYW5kb20oMjU2KSsxMjgpXG5cbiAgICAgIGlmIChjdWJlLnggPCAtd2lkdGgqMylcbiAgICAgICAgY3ViZS54ID0gLXdpZHRoKjNcbiAgICAgICAgY3ViZS54cyAqPSAtMVxuICAgICAgaWYgKGN1YmUueCA+IHdpZHRoKjMpXG4gICAgICAgIGN1YmUueCA9IHdpZHRoKjNcbiAgICAgICAgY3ViZS54cyAqPSAtMVxuICAgICAgaWYgKGN1YmUueiA8IC13aWR0aCozKVxuICAgICAgICBjdWJlLnogPSAtd2lkdGgqM1xuICAgICAgICBjdWJlLnpzICo9IC0xXG4gICAgICBpZiAoY3ViZS56ID4gd2lkdGgqMylcbiAgICAgICAgY3ViZS56ID0gd2lkdGgqM1xuICAgICAgICBjdWJlLnpzICo9IC0xXG4gICAgICBpZiAoY3ViZS55IDwgMClcbiAgICAgICAgY3ViZS55ID0gMFxuICAgICAgICBjdWJlLnlzID0gKHJhbmRvbSg1MTIpKzI1NilcblxuIl19
//# sourceURL=/home/kow/work_area/usr/local/lib/PixelirJS/DEMO/main.coffee